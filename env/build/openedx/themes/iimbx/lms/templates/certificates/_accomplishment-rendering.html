<%! 
    from django.utils.translation import ugettext as _ 
    from datetime import datetime
    from openedx.core.djangoapps.content.course_overviews.models import CourseOverview
    from opaque_keys.edx.keys import CourseKey
%>
<%namespace name='static' file='../static_content.html'/>
<%
course_mode_class = course_mode if course_mode else ''
%>
<style>
table{border-collapse: collapse;}
td, th{border: 1px solid;padding:8px;}
td a{text-decoration:none;cursor:pointer;color: black;}
</style>
<link href="${static.url('css/certificate.css')}" rel="stylesheet" type="text/css">
<main class="accomplishment accomplishment-main">
    <div class="wrapper-accomplishment-rendering">
        <div class="accomplishment-rendering">
            <div id="page_1">
                <div id="top-bar" class="top-bar">
                    <div class="first-part"></div>
                    <div class="sec-part"></div>
                </div>
                <div class="image-section">
                    <div class="left-img">
                        <img src="${static.url('images/iimb-result-logo.jpg')}" class="first-logo" alt="" >
                    </div>
                    <div class="right-img">
                        <img src="${static.url('images/iimbx-logo-brand-color-small_asset.png')}" alt="" class="first-logo">
                    </div>
                </div>
                <div id="id_1">
                    <!-- <p class="p1 ft1">COURSE COMPLETION CERTIFICATE</p> -->
                    <p class="p2 ft2">This is to certify that</p>
                    <p class="student">${accomplishment_copy_name | h}</p>
            % if course_id=="course-v1:IIMBx+QM901x+AIMS_Nov2020" or course_id == "course-v1:IIMBx+OM101x+AIMS_Nov2020":
                    <p class="p3 ft2">has particiated in</p>
                    % elif course_id=="course-v1:IIMBx+ST101x+GMPx_022020_B1" or course_id == "course-v1:IIMBx+OB251x+GMPx_082020_B1" or course_id == "course-v1:IIMBx+QM901x+GMPx_082020_B1":
                    <p class="p3 ft2">has successfully completed online courses on</p>
            % elif course_id=="course-v1:IIMBx+AC104x+UHG_Nov2020_B2" or course_id == "course-v1:IIMBx+AC104x+UHG_Oct2020_B1" or course_id == "course-v1:IIMBx+AC105x+UHG_B1_Oct2021" or course_id=="course-v1:IIMBx+AC105x+UHG_B2_Nov2021":
                    <p class="p3 ft2">has successfully completed the following online courses</p>
                    % else:
                    <p class="p3 ft2">has successfully completed</p>
                    % endif
            % if course_id=="course-v1:IIMBx+AC104x+UHG_Nov2020_B2" or course_id == "course-v1:IIMBx+AC104x+UHG_Oct2020_B1" or course_id == "course-v1:IIMBx+AC105x+UHG_B1_Oct2021" or course_id == "course-v1:IIMBx+AC105x+UHG_B2_Nov2021":
                    <p class="p4 ft3">Accounting and Finance</p>
                    <p class="p4 ft3">Strategic Management</p>
                    <p class="p5 ft2">as part of <b>PACE - Programme for Accelerated Capability Enhancement</b></p>
                    <p class="p6 ft2">a customized Programme of Executive Education</p>
                    <p class="p6 ft2">for <b>Optum Global Advantage â€“United Health Group</b></p>
                    % elif course_id=="course-v1:IIMBx+ST101x+GMPx_022020_B1":
                    <p class="p4 ft3">Business Essentials with Specialization in Strategy and Leadership</p>
                    <p class="p4 ft2">as a module of <b>GMPx</b></p>
                    <p class="p4 ft3">a part-time certificate Programme of Executive Education</p>
                    %elif course_id=="course-v1:IIMBx+OB251x+GMPx_082020_B1":
                    <p class="p4 ft3">Business Essentials with Specialization in Corporate Governance</p>
                    <p class="p4 ft2">as a module of <b>GMPx</b></p>
                    <p class="p4 ft3">a part-time certificate Programme of Executive Education</p>
                    %elif course_id=="course-v1:IIMBx+QM901x+GMPx_082020_B1":
                    <p class="p4 ft3">Business Essentials with Specialization in Marketing and Analytics</p>
                    <p class="p4 ft2">as a module of <b>GMPx</b></p>
                    <p class="p4 ft3">a part-time certificate Programme of Executive Education</p>
                    % elif course_id=="course-v1:NSRCEL+EP101x+EWE_April2021":
                    <p class="p4 ft3">${accomplishment_copy_course_name}</p>
                    <p class="p5 ft2">an online course of study by IIM Bangalore</p>
                    <p class="p6 ft2">offered for the National Commission for Women, India</p>
                    % elif course_id=="course-v1:NSRCEL+EP101x+EWE_March2022":
                    <p class="p4 ft3">${accomplishment_copy_course_name}</p>
                    <p class="p5 ft2">an online course of study by IIM Bangalore</p>
                    <p class="p6 ft2">offered for the National Commission for Women, India</p>
                    % elif course_id=="course-v1:IIMBx+MOOC101x+FDP-2022":
                    <p class="p4 ft3">${accomplishment_copy_course_name}</p>
                    <p class="p5 ft2">an online Faculty Development Program offered by the </p>
                    <p class="p6 ft2">Indian Institute of Management Bangalore through <b>IIMBx</b></p>
                    <p class="p6 ft2">during 5<sup>th</sup> September 2022 to 3<sup>rd</sup> December 2022.</p>
                    % else:
                    <p class="p4 ft3">${accomplishment_copy_course_name}</p>
                    <p class="p5 ft2">an online course of study offered by the</p>
                    <p class="p6 ft2">Indian Institute of Management Bangalore through <b>IIMBx.</b></p>
                    % endif
                </div>
                
                <!-- <div class="qr_code" id="qrcode" data-url=${share_url}>
                   
                </div> -->
                %if course_id == "course-v1:IIMBx+ST101x+GMPx_022020_B1" or course_id=="course-v1:IIMBx+QM901x+GMPx_082020_B1" or course_id=="course-v1:IIMBx+OB251x+GMPx_082020_B1":
                <div id="id_2" style="margin-bottom:50px">
                %else:
                <div id="id_2">
                %endif
                    <div class="row">
                        <div class="col-sm-4 sign">
                            <div class="left">
                                <div class="qr_code" id="qrcode" data-url=${share_url}>
                                </div>
                                <% date = datetime.strptime(certificate_date_issued, '%B %d, %Y') %>
                                <p class="p10 ft8">Issued on ${date.strftime("%d-%m-%Y")}</p>
                                <% course_code = CourseKey.from_string(course_id) %>
                                <% course = CourseOverview.objects.get(id=course_code).display_number_with_default %>
                                <p class="p10 ft8">IIMBx${accomplishment_user_id}${course}${date.strftime("%m")}${date.strftime("%Y")}</p>
                            </div>
                        </div>
                        <div class="col-sm-8 right1">
                            % if mode != 'base':
                                <div class="signature-data">
                                   % if certificate_data:
                                   <div class="row">
                                        % if course_id == "course-v1:IIMBx+MOOC101x+Instructor-paced":
                                            % if date.month < 10:
                                               <div class="col-sm-6 sign">
                                                    <img class="signatory-signature" src="${certificate_data.get('signatories', [])[0]['signature_image_path']}" alt="${certificate_data.get('signatories', [])[0]['name']}">
                                                    <h4 class="signatory-name hd-5">${certificate_data.get('signatories', [])[0]['name']}</h4>
                                                    <div class="signatory-credentials copy copy-micro">
                                                        <h5 class="role">${certificate_data.get('signatories', [])[0]['title']}</h5>
                                                        <h5 class="organization">${certificate_data.get('signatories', [])[0]['organization']}</h5>
                                                    </div>
                                                </div> 
                                            % else:
                                                <div class="col-sm-6 sign">
                                                    <img class="signatory-signature" src="${certificate_data.get('signatories', [])[1]['signature_image_path']}" alt="${certificate_data.get('signatories', [])[1]['name']}">
                                                    <h4 class="signatory-name hd-5">${certificate_data.get('signatories', [])[1]['name']}</h4>
                                                    <div class="signatory-credentials copy copy-micro">
                                                        <h5 class="role">${certificate_data.get('signatories', [])[1]['title']}</h5>
                                                        <h5 class="organization">${certificate_data.get('signatories', [])[1]['organization']}</h5>
                                                    </div>
                                                </div>
                                            %endif
                                        % elif course_id == "course-v1:IIMBx+ST101x+GMPx_022020_B1" or course_id=="course-v1:IIMBx+QM901x+GMPx_082020_B1" or course_id=="course-v1:IIMBx+OB251x+GMPx_082020_B1":
                                            <div class="col-sm-6 sign">
                                                    <img class="signatory-signature" src="${certificate_data.get('signatories', [])[0]['signature_image_path']}" alt="${certificate_data.get('signatories', [])[0]['name']}" style="margin-bottom:50px">
                                                    <h4 class="signatory-name hd-5">${certificate_data.get('signatories', [])[0]['name']}</h4>
                                                    <div class="signatory-credentials copy copy-micro">
                                                        <h5 class="role">${certificate_data.get('signatories', [])[0]['title']}</h5>
                                                        <h5 class="organization">${certificate_data.get('signatories', [])[0]['organization']}</h5>
                                                    </div>
                                                </div> 
                                                <div class="col-sm-6 sign">
                                                    <img class="signatory-signature" src="${certificate_data.get('signatories', [])[1]['signature_image_path']}" alt="${certificate_data.get('signatories', [])[1]['name']}" style="height:100px;">
                                                    <h4 class="signatory-name hd-5">${certificate_data.get('signatories', [])[1]['name']}</h4>
                                                    <div class="signatory-credentials copy copy-micro">
                                                        <h5 class="role">${certificate_data.get('signatories', [])[1]['title']}</h5>
                                                        <h5 class="organization">${certificate_data.get('signatories', [])[1]['organization']}</h5>
                                                    </div>
                                                </div>
                                        %else:
                                            % for signatory in certificate_data.get('signatories', []):
                                                % if course_id == "course-v1:IIMBx+BC101x+MKCE_Jan2021":
                                                <div class="col-sm-4 sign">
                                                % else:
                                                <div class="col-sm-6 sign">
                                                % endif
                                                    <img class="signatory-signature" src="${signatory['signature_image_path']}" alt="${signatory['name']}">
                                                    <h4 class="signatory-name hd-5">${signatory['name']}</h4>
                                                    <div class="signatory-credentials copy copy-micro">
                                                        <h5 class="role">${signatory['title']}</h5>
                                                        <h5 class="organization">${signatory['organization']}</h5>
                                                    </div>
                                                </div>
                                            %endfor
                                        %endif
                                   </div>
                                    </div>
                                    %endif
                                </div>
                            % endif
                    </div>
                </div>
                <div id="top-bar" class="top-bar">
                    <div class="first-part"></div>
                    <div class="sec-part"></div>
                </div>
            </div>
        </div>
    </div>
    <div class="wrapper-accomplishment-metadata">
        <div class="accomplishment-metadata">
            % if course_id == "course-v1:IIMBx+ST101x+GMPx_022020_B1" or course_id=="course-v1:IIMBx+QM901x+GMPx_082020_B1" or course_id=="course-v1:IIMBx+OB251x+GMPx_082020_B1":
            <div style="width:100%; margin-bottom:20px;">
            <table>
            <tr><th>Business Essentials<br>Core MOOC Courses</br></th></tr>
            <tr><td><a href="https://iimbx.iimb.ac.in/strategic-management/">Strategic Management</a></td></tr>
            <tr><td><a href="https://iimbx.iimb.ac.in/people-management/">People Management</a></td></tr>
            <tr><td><a href="https://iimbx.iimb.ac.in/introduction-to-marketing-essentials/">Introduction to Marketing Essentials</a></td></tr>
            <tr><td><a href="https://iimbx.iimb.ac.in/accounting-and-finance/">Accounting and Finance</a></td></tr>
            <tr><td><a href="https://iimbx.iimb.ac.in/operations-management/">Operations Management</a></td></tr>
            </table>
            </div>
            <div style="margin-bottom:20px;">
            <table>
            <tr>
            <th>Electives</th>
            <th>MOOC 1</th>
            <th>MOOC 2</th>
            </tr>
            <tr>
            <td><b>Marketing and Analytics</b></td>
            <td><a href="https://iimbx.iimb.ac.in/catalog/customer-relationship-management/">Customer Relationship Management</a></td>
            <td><a href="https://iimbx.iimb.ac.in/catalog/predictive-analytics/">Predictive Analytics</a></td>
            </tr>
            <tr>
            <td><b>Strategy and Leadership</b></td>
            <td><a href="https://iimbx.iimb.ac.in/catalog/advanced-corporate-strategy/">Advanced Corporate Strategy</a></td>
            <td><a href="https://iimbx.iimb.ac.in/catalog/the-essence-of-leadership-explorations-from-literature/">The Essence of Leadership - Explorations from Literature</a></td>
            </tr>
            <tr>
            <td><b>Corporate Governance</b></td>
            <td><a href="https://iimbx.iimb.ac.in/catalog/strategy-and-the-sustainable-enterprise/">Strategy and Sustainable Enterprise</a></td>
            <td><a href="https://iimbx.iimb.ac.in/catalog/managerial-ethics-reflective-practices-for-action/">Managerial Ethics - Reflective Practices for Actions</a></td>
            </tr>
            </table>
            </div>
            % endif

            <h2 class="accomplishment-metadata-title hd-6">${accomplishment_copy_more_about | h}</h2>
            <div class="wrapper-metadata">
                <dl class="metadata accomplishment-recipient">
                    <dt class="label sr-only">Awarded to:</dt>
                    <dd class="value copy copy-meta">
                        <span class="recipient-img">
                            <img class="src" src="/static/certificates/images/demo-user-profile.png" alt="">
                        </span>
                        <div class="recipient-details">
                            <h3 class="recipient-name">${accomplishment_copy_name | h}</h3>
                            <p class="recipient-username">${accomplishment_copy_username} @ IIMBx</p>
                        </div>
                    </dd>
                </dl>
                <dl class="metadata accomplishment-id">
                    <dt class="label copy copy-meta">${certificate_id_number_title}:</dt>
                    <dd class="value copy copy-base">${certificate_id_number}</dd>
                </dl>
                <dl class="metadata accomplishment-date">
                    <dt class="label copy copy-meta">${certificate_date_issued_title}</dt>
                    <dd class="value copy copy-base">${certificate_date_issued}</dd>
                </dl>
            </div>
        </div>
    </div>
</main>
<script type="text/javascript" src="${static.url('js/qrcode.min.js')}"></script>
<script type="text/javascript">
    var url = document.getElementById("qrcode").getAttribute("data-url");
    var qrcode = new QRCode(document.getElementById("qrcode"), {
    text: url,
    width: 256,
    height: 256,
    colorDark : "#000000",
    colorLight : "#ffffff",
    correctLevel : QRCode.CorrectLevel.H
});
</script>
